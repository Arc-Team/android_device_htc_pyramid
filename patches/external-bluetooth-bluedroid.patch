From 41bb6a2a4b6c4d175ba4f5726f1dece820b24ec1 Mon Sep 17 00:00:00 2001
From: David Eddlemon <neo@TheMatrix.com>
Date: Wed, 26 Jun 2013 22:01:51 +0400
Subject: [PATCH] GCC-4.8+ Build Fix

---
 bta/dm/bta_dm_act.c | 2 +-
 gki/Android.mk      | 2 +-
 main/Android.mk     | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

diff --git a/bta/dm/bta_dm_act.c b/bta/dm/bta_dm_act.c
index b008cd2..91ae162 100644
--- a/bta/dm/bta_dm_act.c
+++ b/bta/dm/bta_dm_act.c
@@ -1202,7 +1202,7 @@ void bta_dm_search_start (tBTA_DM_MSG *p_data)
     if (bta_dm_cfg.avoid_scatter &&
         (p_data->search.rs_res == BTA_DM_RS_NONE) && bta_dm_check_av(BTA_DM_API_SEARCH_EVT))
     {
-        memcpy(&bta_dm_cb.search_msg, &p_data->search, sizeof(tBTA_DM_API_SEARCH));
+        memmove(&bta_dm_cb.search_msg, &p_data->search, sizeof(tBTA_DM_API_SEARCH));
         return;
     }
 
diff --git a/gki/Android.mk b/gki/Android.mk
index 0ece25b..ed9f904 100644
--- a/gki/Android.mk
+++ b/gki/Android.mk
@@ -11,7 +11,7 @@ LOCAL_C_INCLUDES:= $(LOCAL_PATH)/common \
                    $(LOCAL_PATH)/../utils/include \
                    $(bdroid_C_INCLUDES) \
 
-LOCAL_CFLAGS += -Werror $(bdroid_CFLAGS)
+LOCAL_CFLAGS += -Werror -Wno-error=unused-parameter $(bdroid_CFLAGS)
 
 ifeq ($(BOARD_HAVE_BLUETOOTH_BCM),true)
 LOCAL_CFLAGS += \
diff --git a/main/Android.mk b/main/Android.mk
index 78e11ee..f9448c7 100644
--- a/main/Android.mk
+++ b/main/Android.mk
@@ -104,7 +104,7 @@ LOCAL_C_INCLUDES+= . \
 	$(bdroid_C_INCLUDES) \
 	external/tinyxml2
 
-LOCAL_CFLAGS += -DBUILDCFG $(bdroid_CFLAGS) -Werror -Wno-error=maybe-uninitialized -Wno-error=uninitialized
+LOCAL_CFLAGS += -DBUILDCFG $(bdroid_CFLAGS) -Werror -Wno-error=maybe-uninitialized -Wno-error=uninitialized -Wno-error=unused-parameter
 
 ifeq ($(TARGET_PRODUCT), full_crespo)
      LOCAL_CFLAGS += -DTARGET_CRESPO
-- 
1.8.1.6

