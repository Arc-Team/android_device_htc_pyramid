From a97e560a3a2af22ef9cf9290157b6e435a7a1442 Mon Sep 17 00:00:00 2001
From: David Eddlemon <DavidEddlemon@gmail.com>
Date: Tue, 9 Jul 2013 01:04:25 +0400
Subject: [PATCH] Strict Aliasing Fix

Change-Id: Ibce705acb0889807259c154b0ddf20ce4e132354
---
 Android.mk | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/Android.mk b/Android.mk
index ac2e90b..4201d88 100644
--- a/Android.mk
+++ b/Android.mk
@@ -60,6 +60,8 @@ LOCAL_MODULE := libslang
 LOCAL_MODULE_TAGS := optional
 
 LOCAL_CFLAGS += $(local_cflags_for_slang)
+# Needed because clang headers used by slang_rs.cpp aren't clean
+LOCAL_CFLAGS += -fno-strict-aliasing
 
 TBLGEN_TABLES :=    \
 	AttrList.inc	\
@@ -198,6 +200,9 @@ else
   LOCAL_LDLIBS := -ldl -lpthread
 endif
 
+# Needed because clang headers used by slang_rs.cpp aren't clean
+LOCAL_CFLAGS += -fno-strict-aliasing
+
 # For build RSCCOptions.inc from RSCCOptions.td
 intermediates := $(call local-intermediates-dir)
 LOCAL_GENERATED_SOURCES += $(intermediates)/RSCCOptions.inc
-- 
1.8.1.6

